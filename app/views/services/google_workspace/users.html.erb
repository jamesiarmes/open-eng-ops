<%= turbo_frame_tag 'google-workspace-users' do %>
<table data-mdb-fixed-header="true" class="table table-hover table-striped table-sticky align-middle mb-0 bg-white github-repos">
  <thead>
  <tr>
    <th scope="col"><%= t('.name') %></th>
    <th scope="col"><%= t('.email') %></th>
    <th scope="col"><%= t('.created') %></th>
    <th scope="col"><%= t('.login') %></th>
    <th scope="col"><%= t('.mfa') %></th>
  </tr>
  </thead>
  <tbody>
  <% @users[:data].each do |user| %>
    <tr>
      <td>
        <div class="d-flex align-items-center">
          <% if user.thumbnail_photo_url %>
            <img src="<%= url_for(user.thumbnail_photo_url) %>"
                 alt="Avatar for <%= user.name.full_name %>"
                 class="rounded-circle avatar-sm" />
          <% else %>
            <i class="fas fa-user-circle default-avatar-sm"></i>
          <% end %>

          <div class="ms-3">
            <p class="fw-bold mb-1"><%= user.name.full_name %></p>
          </div>
        </div>
      </td>
      <td>
        <%= user.primary_email %>
      </td>
      <td>
        <span title="<%= user.creation_time.to_formatted_s(:db) %>"><%= user.creation_time.to_formatted_s(:date) %></span>
      </td>
      <td>
        <span title="<%= user.last_login_time.to_formatted_s(:db) %>"><%= user.last_login_time.to_formatted_s(:date) %></span>
      </td>
      <td>
        <div class="form-check form-switch">
          <input class="form-check-input" type="checkbox" role="switch"
                 <%= 'checked' if user.is_enrolled_in2_sv %> disabled />
        </div>
      </td>
    </tr>
  <% end %>
  </tbody>
</table>

<%#= render partial: 'pagination', object: @members[:page_info],
           locals: { label: 'Github organization members pagination', frame: 'github-members' } %>
<% end %>
